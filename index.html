<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>ルートと位置情報とボタン</title>
<meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no">
<link href="https://api.mapbox.com/mapbox-gl-js/v2.6.1/mapbox-gl.css" rel="stylesheet">
<script src="https://api.mapbox.com/mapbox-gl-js/v2.6.1/mapbox-gl.js"></script>
<style>
body { margin: 0; padding: 0; }
#map { position: absolute; top: 0; bottom: 0; width: 100%; }
</style>
</head>
<body>


	<style>
		/* ボタン用のスタイル */
		#fly {
			display: block;
			position: relative;
			margin: 0px auto;
			width: 10%;
			height: 40px;
			padding: 10px;
			border: none;
			border-radius: 3px;
			font-size: 12px;
			text-align: center;
			color: #fff;
			background: #ee8a65;
		}

		#fly2 {
			display: block;
			position: relative;
			margin: 0px auto;
			width: 10%;
			height: 40px;
			padding: 10px;
			border: thin solid #ee8a65;
			border-radius: 3px;
			font-size: 12px;
			text-align: center;
			color: #ee8a65;
			background: #fff;
		}


		/* 経路表示用のボタン */
		.btn-control {
			font: bold 12px/20px 'Helvetica Neue', Arial, Helvetica, sans-serif;
			background-color: #3386c0;
			color: #fff;
			position: absolute;
			top: 20px;
			left: 50%;
			z-index: 1;
			border: none;
			width: 200px;
			margin-left: -100px;
			display: block;
			cursor: pointer;
			padding: 10px 20px;
			border-radius: 3px;
		}

		.btn-control:hover {
			background-color: #4ea0da;
		}



		/* 画像アイコン用のスタイル */
		.marker {
			display: block;
			border: none;
			border-radius: 50%;
			cursor: pointer;
			padding: 0;
		}



		/* 画像アイコンと説明用のスタイル */
		#marker1 {
			background-image: url('https://lh3.googleusercontent.com/pw/AL9nZEXGpmZmC4qDhzoKS1voC_bMuzzsQ6h-v7FZ7Q7ESx8rGmJ5Paz1_WU4UO4EehMUr7NJ_tX_Uw5z6vPxIQPAvz5Om3AN_Zx78jGm6tXKDfsKhXoJYIPAQWUJAOIj3PiWMEVpsOYFeFmq6xkSDOPpgUPI=s888-no?authuser=0');
			background-size: cover;
			width: 50px;
			height: 50px;
			border-radius: 50%;
			cursor: pointer;
		}
		.mapboxgl-popup {
			max-width: 200px;
		}

		#marker2 {
			background-image: url('https://lh3.googleusercontent.com/pw/AL9nZEWiQSNC4mgXif1NsNmPwcakmSinp4Y4gEO3dn6eZ2axkFVNzp15JntGuImQ5-Z--N5klfyL9oda2gR1mjntpokG4BOqgTNezHQg4FKqN7p1hHeYRFT0jCsvXSHm5rlghulLgpJkPt_JZrrHpbK2__4X=s888-no?authuser=0');
			background-size: cover;
			width: 50px;
			height: 50px;
			border-radius: 50%;
			cursor: pointer;
		}
		.mapboxgl-popup {
			max-width: 200px;
		}

		#marker3 {
			background-image: url('https://lh3.googleusercontent.com/pw/AL9nZEWmBMK0rMDKp4yM7yzEnhC8gw3ezK4kIc43kBN0dZfkxnfW-VZ5qQDMiADWxquEN9-J3fIPXRa5wjK-10UWa9jkXw2CJWMOkrYyIOGYRH0-ZZNHjriBr-oBueQ-MXSayenneLWvPbHwpQ6vWEoY6Mz6=s888-no?authuser=0');
			background-size: cover;
			width: 50px;
			height: 50px;
			border-radius: 50%;
			cursor: pointer;
		}
		.mapboxgl-popup {
			max-width: 200px;
		}



		</style>


<div id="map"></div>
		<!-- 目印移動 -->
		<!-- <br>
		<button id="fly">次の目印</button>
		<br>
		<button id="fly2">前の目印</button> -->

		<!-- 経路全体表示 -->
		<button id="zoomto" class="btn-control">経路全体表示</button>


<script>
	mapboxgl.accessToken = 'pk.eyJ1IjoiaW5vdWVrb3N1a2UiLCJhIjoiY2w1dXVjMXR0MDBoZTNjcHNneDBoY2p1ayJ9.QOyj-eLyQbQZ_2A2502t1A';
    
	
	// 画像アイコンと説明に応用
	const tamachi = [139.737018, 35.69555];
	const kaidan = [139.737705, 35.696267];
	const gosaro = [139.739961, 35.694756];


	

	// 経路全体表示１
	const geojson = {
		'type': 'FeatureCollection',
		'features': [
			{
				'type': 'Feature',
				'geometry': {
					'type': 'LineString',
					'properties': {},
					'coordinates': [
						[ 139.73683, 35.6956943, 0.0 ], [ 139.7369, 35.69575, 0.0 ], [ 139.73695, 35.69579, 0.0 ], [ 139.737, 35.69583, 0.0 ], [ 139.73703, 35.69586, 0.0 ], [ 139.73707, 35.69589, 0.0 ], [ 139.73721, 35.69599, 0.0 ], [ 139.7374, 35.69613, 0.0 ], [ 139.73744, 35.69616, 0.0 ], [ 139.73765, 35.69629, 0.0 ], [ 139.7376535, 35.6962934, 0.0 ], [ 139.73787, 35.69617, 0.0 ], [ 139.73793, 35.69615, 0.0 ], [ 139.73806, 35.69608, 0.0 ], [ 139.73811, 35.69606, 0.0 ], [ 139.73812, 35.69603, 0.0 ], [ 139.73811, 35.696, 0.0 ], [ 139.73806, 35.69594, 0.0 ], [ 139.73803, 35.6959, 0.0 ], [ 139.73804, 35.6959, 0.0 ], [ 139.73805, 35.69589, 0.0 ], [ 139.73806, 35.69588, 0.0 ], [ 139.73809, 35.69587, 0.0 ], [ 139.73814, 35.69584, 0.0 ], [ 139.738140499999986, 35.6958414, 0.0 ], [ 139.73821, 35.6958, 0.0 ], [ 139.73826, 35.69577, 0.0 ], [ 139.73836, 35.69572, 0.0 ], [ 139.7384, 35.69569, 0.0 ], [ 139.73841, 35.69568, 0.0 ], [ 139.73848, 35.69564, 0.0 ], [ 139.73862, 35.69556, 0.0 ], [ 139.73883, 35.69548, 0.0 ], [ 139.73887, 35.69545, 0.0 ], [ 139.73893, 35.69542, 0.0 ], [ 139.73913, 35.69533, 0.0 ], [ 139.73947, 35.69517, 0.0 ], [ 139.73955, 35.69513, 0.0 ], [ 139.73965, 35.69509, 0.0 ], [ 139.73979, 35.69502, 0.0 ], [ 139.73982, 35.69501, 0.0 ], [ 139.7399, 35.69496, 0.0 ], [ 139.73995, 35.69493, 0.0 ], [ 139.73998, 35.69485, 0.0 ], [ 139.7399848, 35.6948514, 0.0 ], [ 139.73997, 35.69481, 0.0 ], [ 139.73997, 35.6948, 0.0 ], [ 139.73999, 35.69476, 0.0 ], [ 139.73999, 35.69475, 0.0 ], [ 139.74, 35.69474, 0.0 ], [ 139.74001, 35.69473, 0.0 ], [ 139.74003, 35.6947, 0.0 ], [ 139.7400257, 35.6947042, 0.0 ], [ 139.7405, 35.69486, 0.0 ], [ 139.74057, 35.69488, 0.0 ], [ 139.74106, 35.69505, 0.0 ], [ 139.74108, 35.69505, 0.0 ], [ 139.7411, 35.69502, 0.0 ], [ 139.7411017, 35.6950161, 0.0 ], [ 139.74113, 35.69496, 0.0 ], [ 139.74121, 35.69477, 0.0 ], [ 139.74136, 35.69445, 0.0 ], [ 139.74138, 35.69441, 0.0 ], [ 139.74144, 35.69426, 0.0 ], [ 139.74158, 35.69395, 0.0 ], [ 139.7416, 35.69389, 0.0 ], [ 139.74162, 35.69385, 0.0 ], [ 139.74202, 35.69295, 0.0 ], [ 139.74202360000001, 35.6929507, 0.0 ], [ 139.74225, 35.69302, 0.0 ], [ 139.74237, 35.69307, 0.0 ], [ 139.74289, 35.69323, 0.0 ], [ 139.74296, 35.69326, 0.0 ], [ 139.7432, 35.69333, 0.0 ], [ 139.74338, 35.69336, 0.0 ], [ 139.74358, 35.69342, 0.0 ], [ 139.74385, 35.69353, 0.0 ], [ 139.74426, 35.6937, 0.0 ], [ 139.74445, 35.69377, 0.0 ], [ 139.74509, 35.69404, 0.0 ], [ 139.74515, 35.69403, 0.0 ], [ 139.74532, 35.69411, 0.0 ], [ 139.74572, 35.69423, 0.0 ], [ 139.74604, 35.69431, 0.0 ], [ 139.74623, 35.69437, 0.0 ], [ 139.7464, 35.6944, 0.0 ], [ 139.74651, 35.69442, 0.0 ], [ 139.7466, 35.69423, 0.0 ], [ 139.74673, 35.69427, 0.0 ], [ 139.7468, 35.6943, 0.0 ], [ 139.74685, 35.69432, 0.0 ], [ 139.74699, 35.69436, 0.0 ], [ 139.74706, 35.69438, 0.0 ], [ 139.7471, 35.69439, 0.0 ], [ 139.74717, 35.69441, 0.0 ], [ 139.7473, 35.69445, 0.0 ], [ 139.74734, 35.69446, 0.0 ], [ 139.7473384, 35.6944645, 0.0 ], [ 139.74736, 35.69445, 0.0 ], [ 139.74742, 35.69448, 0.0 ], [ 139.7474182, 35.6944787, 0.0 ], [ 139.74759, 35.69453, 0.0 ], [ 139.74813, 35.69469, 0.0 ], [ 139.748135, 35.6946899, 0.0 ], [ 139.74816, 35.69467, 0.0 ], [ 139.74817, 35.69466, 0.0 ], [ 139.74819, 35.69466, 0.0 ], [ 139.74844, 35.69473, 0.0 ], [ 139.74867, 35.69479, 0.0 ], [ 139.7487, 35.6948, 0.0 ], [ 139.74873, 35.69481, 0.0 ], [ 139.74876, 35.69482, 0.0 ], [ 139.74876, 35.69483, 0.0 ], [ 139.74877, 35.69483, 0.0 ], [ 139.74877, 35.69485, 0.0 ], [ 139.7488, 35.69485, 0.0 ], [ 139.74882, 35.69486, 0.0 ], [ 139.74886, 35.69487, 0.0 ], [ 139.74891, 35.69488, 0.0 ], [ 139.7489129, 35.6948777, 0.0 ], [ 139.74909, 35.69478, 0.0 ], [ 139.74921, 35.69471, 0.0 ], [ 139.74928, 35.69454, 0.0 ], [ 139.74935, 35.69437, 0.0 ], [ 139.74939, 35.69427, 0.0 ], [ 139.74941, 35.69419, 0.0 ], [ 139.74943, 35.69414, 0.0 ], [ 139.74943, 35.69413, 0.0 ], [ 139.74942, 35.69412, 0.0 ], [ 139.74941, 35.6941, 0.0 ], [ 139.74939, 35.69408, 0.0 ], [ 139.74936, 35.69406, 0.0 ], [ 139.74934, 35.69405, 0.0 ], [ 139.74921, 35.69399, 0.0 ], [ 139.74912, 35.6939, 0.0 ], [ 139.74907, 35.69386, 0.0 ], [ 139.74906, 35.69384, 0.0 ], [ 139.74905, 35.69382, 0.0 ], [ 139.74904, 35.69378, 0.0 ], [ 139.74903, 35.69373, 0.0 ], [ 139.74903, 35.69369, 0.0 ], [ 139.74903, 35.69364, 0.0 ], [ 139.74905, 35.69352, 0.0 ], [ 139.7491, 35.69337, 0.0 ], [ 139.74911, 35.69334, 0.0 ], [ 139.74912, 35.69333, 0.0 ], [ 139.74918, 35.69321, 0.0 ], [ 139.74929, 35.69309, 0.0 ], [ 139.74934, 35.69303, 0.0 ], [ 139.74945, 35.69291, 0.0 ], [ 139.74955, 35.69283, 0.0 ], [ 139.74962, 35.69277, 0.0 ], [ 139.74966, 35.69274, 0.0 ], [ 139.74979, 35.69264, 0.0 ], [ 139.74986, 35.69262, 0.0 ], [ 139.75004, 35.69255, 0.0 ], [ 139.75009, 35.69254, 0.0 ], [ 139.75016, 35.69252, 0.0 ], [ 139.7502, 35.69251, 0.0 ], [ 139.75023, 35.69251, 0.0 ], [ 139.75028, 35.6925, 0.0 ], [ 139.7503, 35.6925, 0.0 ], [ 139.75072, 35.69245, 0.0 ], [ 139.75075, 35.69245, 0.0 ], [ 139.75083, 35.69243, 0.0 ], [ 139.75096, 35.69242, 0.0 ], [ 139.75102, 35.69241, 0.0 ], [ 139.7511, 35.6924, 0.0 ], [ 139.75116, 35.69238, 0.0 ], [ 139.7512, 35.69236, 0.0 ], [ 139.75124, 35.69235, 0.0 ], [ 139.75129, 35.69232, 0.0 ], [ 139.75136, 35.69229, 0.0 ], [ 139.75142, 35.69225, 0.0 ], [ 139.75146, 35.69222, 0.0 ], [ 139.7515, 35.69219, 0.0 ], [ 139.75156, 35.69214, 0.0 ], [ 139.7516, 35.69209, 0.0 ], [ 139.75165, 35.69202, 0.0 ], [ 139.75181, 35.69183, 0.0 ], [ 139.75188, 35.69177, 0.0 ], [ 139.75199, 35.69163, 0.0 ], [ 139.75203, 35.69158, 0.0 ], [ 139.75211, 35.69149, 0.0 ], [ 139.75214, 35.69146, 0.0 ], [ 139.75218, 35.69142, 0.0 ], [ 139.7522, 35.6914, 0.0 ], [ 139.75223, 35.69136, 0.0 ], [ 139.75231, 35.69126, 0.0 ], [ 139.75236, 35.69121, 0.0 ], [ 139.75247, 35.69107, 0.0 ], [ 139.75273, 35.69075, 0.0 ], [ 139.75273, 35.69068, 0.0 ], [ 139.75279, 35.69067, 0.0 ], [ 139.75289, 35.69055, 0.0 ], [ 139.75294, 35.69049, 0.0 ], [ 139.75299, 35.69039, 0.0 ], [ 139.75301, 35.69036, 0.0 ], [ 139.75304, 35.69033, 0.0 ], [ 139.75314, 35.69025, 0.0 ], [ 139.75324, 35.69013, 0.0 ], [ 139.75328, 35.69007, 0.0 ], [ 139.75348, 35.68982, 0.0 ], [ 139.75349, 35.6898, 0.0 ], [ 139.75358, 35.68969, 0.0 ], [ 139.7535829, 35.6896898, 0.0 ], [ 139.75367, 35.68974, 0.0 ], [ 139.75372, 35.68976, 0.0 ], [ 139.75405, 35.68993, 0.0 ], [ 139.75409, 35.68995, 0.0 ], [ 139.7542, 35.69001, 0.0 ], [ 139.75429, 35.69005, 0.0 ], [ 139.75439, 35.69009, 0.0 ], [ 139.75448, 35.69014, 0.0 ], [ 139.75462, 35.69019, 0.0 ], [ 139.7547, 35.69022, 0.0 ], [ 139.75484, 35.69027, 0.0 ], [ 139.7548424, 35.6902687, 0.0 ]
					]
				}
			}
		]
	};




	// // 画像アイコン１
	// const geojson2 = {
	// 	'type': 'FeatureCollection',
	// 	'features': [
	// 		{
	// 			'type': 'Feature',
	// 			'properties': {
	// 				'iconSize': [40, 40]
	// 			},
	// 			'geometry': {
	// 				'type': 'Point',
	// 				'coordinates': [139.737018,35.69555]
	// 			}
	// 		},
	// 		{
	// 			'type': 'Feature',
	// 			'properties': {
	// 				'iconSize': [40, 40]
	// 			},
	// 			'geometry': {
	// 				'type': 'Point',
	// 				'coordinates': [139.737705,35.696267]
	// 			}
	// 		},
	// 		{
	// 			'type': 'Feature',
	// 			'properties': {
	// 				'iconSize': [40, 40]
	// 			},
	// 			'geometry': {
	// 				'type': 'Point',
	// 				'coordinates': [139.739961, 35.694756]
	// 			}
	// 		}
	// 	]
	// };



	// // 画像アイコン１ 分割
	// const geojson2 = {
	// 	'type': 'FeatureCollection',
	// 	'features': [
	// 		{
	// 			'type': 'Feature',
	// 			'properties': {
	// 				'iconSize': [40, 40]
	// 			},
	// 			'geometry': {
	// 				'type': 'Point',
	// 				'coordinates': [139.737018,35.69555]
	// 			}
	// 		}
	// 	]
	// };

	// const geojson3 = {
	// 	'type': 'FeatureCollection',
	// 	'features': [
	// 		{
	// 			'type': 'Feature',
	// 			'properties': {
	// 				'iconSize': [40, 40]
	// 			},
	// 			'geometry': {
	// 				'type': 'Point',
	// 				'coordinates': [139.737705,35.696267]
	// 			}
	// 		}
	// 	]
	// };

	// const geojson4 = {
	// 	'type': 'FeatureCollection',
	// 	'features': [
	// 		{
	// 			'type': 'Feature',
	// 			'properties': {
	// 				'iconSize': [40, 40]
	// 			},
	// 			'geometry': {
	// 				'type': 'Point',
	// 				'coordinates': [139.739961, 35.694756]
	// 			}
	// 		}
	// 	]
	// };



	const map = new mapboxgl.Map({
        container: 'map',
        style: 'mapbox://styles/inouekosuke/cl96xiif7000115qliw1b7tfr',
        center: [139.7390860, 35.6952950],
        zoom: 17,
		pitch: 55,
		bearing: 100,
    });




	// 経路全体表示２
	map.on('load', () => {
		map.addSource('LineString', {
			'type': 'geojson',
			'data': geojson
		});
		map.addLayer({
			'id': 'LineString',
			'type': 'line',
			'source': 'LineString',
			'layout': {
				'line-join': 'round',
				'line-cap': 'round'
			},
			'paint': {
				'line-color': '#ff4500',
				'line-width': 16,
				'line-opacity': 0.7
			}
		});
		
		document.getElementById('zoomto').addEventListener('click', () => {
			// Geographic coordinates of the LineString
			const coordinates = geojson.features[0].geometry.coordinates;
		
			// Create a 'LngLatBounds' with both corners at the first coordinate.
			const bounds = new mapboxgl.LngLatBounds(
				coordinates[0],
				coordinates[0]
			);
		
			// Extend the 'LngLatBounds' to include every coordinate in the bounds result.
			for (const coord of coordinates) {
				bounds.extend(coord);
			}
		
			map.fitBounds(bounds, {
				padding: 20,
				pitch: 0,
				bearing: 0
			});
		});
	})




	// // 画像アイコン２
	// for (const marker of geojson2.features) {
	// 	// Create a DOM element for each marker.
	// 	const el = document.createElement('div');
	// 	const width = marker.properties.iconSize[0];
	// 	const height = marker.properties.iconSize[1];
	// 	el.className = 'marker';
	// 	el.style.backgroundImage = `url(https://placekitten.com/g/${width}/${height}/)`;
	// 	el.style.width = `${width}px`;
	// 	el.style.height = `${height}px`;
	// 	el.style.backgroundSize = '100%';
		
	// 	// el.addEventListener('click', () => {
	// 	// 	window.alert(marker.properties.message);
	// 	// });
 
	// 	// Add markers to the map.
	// 	new mapboxgl.Marker(el)
	// 		.setLngLat(marker.geometry.coordinates)
	// 		.addTo(map);
	// }




	// // 画像アイコン２ 分割
	// for (const marker of geojson2.features) {
	// // Create a DOM element for each marker.
	// const el = document.createElement('div');
	// const width = marker.properties.iconSize[0];
	// const height = marker.properties.iconSize[1];
	// el.className = 'marker';
	// el.style.backgroundImage = `url(https://lh3.googleusercontent.com/pw/AL9nZEXGpmZmC4qDhzoKS1voC_bMuzzsQ6h-v7FZ7Q7ESx8rGmJ5Paz1_WU4UO4EehMUr7NJ_tX_Uw5z6vPxIQPAvz5Om3AN_Zx78jGm6tXKDfsKhXoJYIPAQWUJAOIj3PiWMEVpsOYFeFmq6xkSDOPpgUPI=s888-no?authuser=0)`;
	// el.style.width = `${width}px`;
	// el.style.height = `${height}px`;
	// el.style.backgroundSize = '100%';
 
	// // Add markers to the map.
	// new mapboxgl.Marker(el)
	// 	.setLngLat(marker.geometry.coordinates)
	// 	.addTo(map);
	// }

	// for (const marker of geojson3.features) {
	// // Create a DOM element for each marker.
	// const el = document.createElement('div');
	// const width = marker.properties.iconSize[0];
	// const height = marker.properties.iconSize[1];
	// el.className = 'marker';
	// el.style.backgroundImage = `url(https://lh3.googleusercontent.com/pw/AL9nZEWiQSNC4mgXif1NsNmPwcakmSinp4Y4gEO3dn6eZ2axkFVNzp15JntGuImQ5-Z--N5klfyL9oda2gR1mjntpokG4BOqgTNezHQg4FKqN7p1hHeYRFT0jCsvXSHm5rlghulLgpJkPt_JZrrHpbK2__4X=s888-no?authuser=0)`;
	// el.style.width = `${width}px`;
	// el.style.height = `${height}px`;
	// el.style.backgroundSize = '100%';
 
	// // Add markers to the map.
	// new mapboxgl.Marker(el)
	// 	.setLngLat(marker.geometry.coordinates)
	// 	.addTo(map);
	// }

	// for (const marker of geojson4.features) {
	// // Create a DOM element for each marker.
	// const el = document.createElement('div');
	// const width = marker.properties.iconSize[0];
	// const height = marker.properties.iconSize[1];
	// el.className = 'marker';
	// el.style.backgroundImage = `url(https://lh3.googleusercontent.com/pw/AL9nZEWmBMK0rMDKp4yM7yzEnhC8gw3ezK4kIc43kBN0dZfkxnfW-VZ5qQDMiADWxquEN9-J3fIPXRa5wjK-10UWa9jkXw2CJWMOkrYyIOGYRH0-ZZNHjriBr-oBueQ-MXSayenneLWvPbHwpQ6vWEoY6Mz6=s888-no?authuser=0)`;
	// el.style.width = `${width}px`;
	// el.style.height = `${height}px`;
	// el.style.backgroundSize = '100%';
 
	// // Add markers to the map.
	// new mapboxgl.Marker(el)
	// 	.setLngLat(marker.geometry.coordinates)
	// 	.addTo(map);
	// }




	// 画像アイコンと説明
	// create the popup
	const popup1 = new mapboxgl.Popup({ offset: 25 }).setText(
		'法政大学市谷田町校舎'
	);
	// create DOM element for the marker
	const el1 = document.createElement('div');
	el1.id = 'marker1';
	// create the marker
	new mapboxgl.Marker(el1)
	.setLngLat(tamachi)
	.setPopup(popup1) // sets a popup on this marker
	.addTo(map);


	// create the popup
	const popup2 = new mapboxgl.Popup({ offset: 25 }).setText(
		'階段'
	);
	// create DOM element for the marker
	const el2 = document.createElement('div');
	el2.id = 'marker2';
	// create the marker
	new mapboxgl.Marker(el2)
	.setLngLat(kaidan)
	.setPopup(popup2) // sets a popup on this marker
	.addTo(map);


	// create the popup
	const popup3 = new mapboxgl.Popup({ offset: 25 }).setText(
		'五差路'
	);
	// create DOM element for the marker
	const el3 = document.createElement('div');
	el3.id = 'marker3';
	// create the marker
	new mapboxgl.Marker(el3)
	.setLngLat(gosaro)
	.setPopup(popup3) // sets a popup on this marker
	.addTo(map);



    // 位置情報
    map.addControl(
        new mapboxgl.GeolocateControl({
            positionOptions: {
                enableHighAccuracy: true
            },
            // When active the map will receive updates to the device's location as it changes.
            trackUserLocation: true,
            // Draw an arrow next to the location dot to indicate which direction the device is heading.
            showUserHeading: true
        })
    );




	// // 次の目印に飛ぶ(実験中)
	// let isAtStart = tamachi;
 
 	// 	document.getElementById('fly2').addEventListener('click', () => {
	// 		const target = isAtStart ;

	// 		//isAtStart = !isAtStart;

	// 		if(isAtStart = tamachi){
	// 			map.flyTo({
	// 				center: target,
	// 				zoom: 18,
	// 				pitch: 40,
	// 				bearing: 120,
	// 				//speed: 1,
	// 				//curve: 1,

	// 				//easing: (t) => t,
		
	// 				// this animation is considered essential with respect to prefers-reduced-motion
	// 				//essential: true
	// 			});
	// 			isAtStart = kaidan;
	// 		}
	// 	});


	// 	document.getElementById('fly2').addEventListener('click', () => {
	// 		const target = isAtStart ;

	// 		if(isAtStart = kaidan){
	// 			map.flyTo({
	// 				center: target,
	// 				zoom: 18,
	// 				pitch: 40,
	// 				bearing: 120,
	// 				//speed: 1,
	// 				//curve: 1,

	// 				//easing: (t) => t,
		
	// 				// this animation is considered essential with respect to prefers-reduced-motion
	// 				//essential: true
	// 			});
	// 			isAtStart = gosaro;
	// 		}

	// 	});


	// 	document.getElementById('fly2').addEventListener('click', () => {
	// 		const target = isAtStart ;

	// 		if(isAtStart = gosaro){
	// 			map.flyTo({
	// 				center: target,
	// 				zoom: 18,
	// 				pitch: 40,
	// 				bearing: 120,
	// 				//speed: 1,
	// 				//curve: 1,

	// 				//easing: (t) => t,
		
	// 				// this animation is considered essential with respect to prefers-reduced-motion
	// 				//essential: true
	// 			});
	// 			isAtStart = tamachi;
	// 		}
	// 	});




	// // 指定した座標に飛ぶ
	// document.getElementById('fly').addEventListener('click', () => {
	// 	// by up to 5 degrees.
	// 	map.flyTo({

	// 		center: start,
	// 		// center: [139.737018,35.69555],
			
	// 		essential: true // this animation is considered essential with respect to prefers-reduced-motion
	// 	});
	// });




	// // 経路の描画
	// map.on('load', () => {
	// 	map.addSource('route', {
	// 		'type': 'geojson',
	// 		'data': {
	// 			'type': 'Feature',
	// 			'properties': {},
	// 			'geometry': {
	// 				'type': 'LineString',
	// 				'coordinates': [

	// 				[ 139.73683, 35.6956943, 0.0 ], [ 139.7369, 35.69575, 0.0 ], [ 139.73695, 35.69579, 0.0 ], [ 139.737, 35.69583, 0.0 ], [ 139.73703, 35.69586, 0.0 ], [ 139.73707, 35.69589, 0.0 ], [ 139.73721, 35.69599, 0.0 ], [ 139.7374, 35.69613, 0.0 ], [ 139.73744, 35.69616, 0.0 ], [ 139.73765, 35.69629, 0.0 ], [ 139.7376535, 35.6962934, 0.0 ], [ 139.73787, 35.69617, 0.0 ], [ 139.73793, 35.69615, 0.0 ], [ 139.73806, 35.69608, 0.0 ], [ 139.73811, 35.69606, 0.0 ], [ 139.73812, 35.69603, 0.0 ], [ 139.73811, 35.696, 0.0 ], [ 139.73806, 35.69594, 0.0 ], [ 139.73803, 35.6959, 0.0 ], [ 139.73804, 35.6959, 0.0 ], [ 139.73805, 35.69589, 0.0 ], [ 139.73806, 35.69588, 0.0 ], [ 139.73809, 35.69587, 0.0 ], [ 139.73814, 35.69584, 0.0 ], [ 139.738140499999986, 35.6958414, 0.0 ], [ 139.73821, 35.6958, 0.0 ], [ 139.73826, 35.69577, 0.0 ], [ 139.73836, 35.69572, 0.0 ], [ 139.7384, 35.69569, 0.0 ], [ 139.73841, 35.69568, 0.0 ], [ 139.73848, 35.69564, 0.0 ], [ 139.73862, 35.69556, 0.0 ], [ 139.73883, 35.69548, 0.0 ], [ 139.73887, 35.69545, 0.0 ], [ 139.73893, 35.69542, 0.0 ], [ 139.73913, 35.69533, 0.0 ], [ 139.73947, 35.69517, 0.0 ], [ 139.73955, 35.69513, 0.0 ], [ 139.73965, 35.69509, 0.0 ], [ 139.73979, 35.69502, 0.0 ], [ 139.73982, 35.69501, 0.0 ], [ 139.7399, 35.69496, 0.0 ], [ 139.73995, 35.69493, 0.0 ], [ 139.73998, 35.69485, 0.0 ], [ 139.7399848, 35.6948514, 0.0 ], [ 139.73997, 35.69481, 0.0 ], [ 139.73997, 35.6948, 0.0 ], [ 139.73999, 35.69476, 0.0 ], [ 139.73999, 35.69475, 0.0 ], [ 139.74, 35.69474, 0.0 ], [ 139.74001, 35.69473, 0.0 ], [ 139.74003, 35.6947, 0.0 ], [ 139.7400257, 35.6947042, 0.0 ], [ 139.7405, 35.69486, 0.0 ], [ 139.74057, 35.69488, 0.0 ], [ 139.74106, 35.69505, 0.0 ], [ 139.74108, 35.69505, 0.0 ], [ 139.7411, 35.69502, 0.0 ], [ 139.7411017, 35.6950161, 0.0 ], [ 139.74113, 35.69496, 0.0 ], [ 139.74121, 35.69477, 0.0 ], [ 139.74136, 35.69445, 0.0 ], [ 139.74138, 35.69441, 0.0 ], [ 139.74144, 35.69426, 0.0 ], [ 139.74158, 35.69395, 0.0 ], [ 139.7416, 35.69389, 0.0 ], [ 139.74162, 35.69385, 0.0 ], [ 139.74202, 35.69295, 0.0 ], [ 139.74202360000001, 35.6929507, 0.0 ], [ 139.74225, 35.69302, 0.0 ], [ 139.74237, 35.69307, 0.0 ], [ 139.74289, 35.69323, 0.0 ], [ 139.74296, 35.69326, 0.0 ], [ 139.7432, 35.69333, 0.0 ], [ 139.74338, 35.69336, 0.0 ], [ 139.74358, 35.69342, 0.0 ], [ 139.74385, 35.69353, 0.0 ], [ 139.74426, 35.6937, 0.0 ], [ 139.74445, 35.69377, 0.0 ], [ 139.74509, 35.69404, 0.0 ], [ 139.74515, 35.69403, 0.0 ], [ 139.74532, 35.69411, 0.0 ], [ 139.74572, 35.69423, 0.0 ], [ 139.74604, 35.69431, 0.0 ], [ 139.74623, 35.69437, 0.0 ], [ 139.7464, 35.6944, 0.0 ], [ 139.74651, 35.69442, 0.0 ], [ 139.7466, 35.69423, 0.0 ], [ 139.74673, 35.69427, 0.0 ], [ 139.7468, 35.6943, 0.0 ], [ 139.74685, 35.69432, 0.0 ], [ 139.74699, 35.69436, 0.0 ], [ 139.74706, 35.69438, 0.0 ], [ 139.7471, 35.69439, 0.0 ], [ 139.74717, 35.69441, 0.0 ], [ 139.7473, 35.69445, 0.0 ], [ 139.74734, 35.69446, 0.0 ], [ 139.7473384, 35.6944645, 0.0 ], [ 139.74736, 35.69445, 0.0 ], [ 139.74742, 35.69448, 0.0 ], [ 139.7474182, 35.6944787, 0.0 ], [ 139.74759, 35.69453, 0.0 ], [ 139.74813, 35.69469, 0.0 ], [ 139.748135, 35.6946899, 0.0 ], [ 139.74816, 35.69467, 0.0 ], [ 139.74817, 35.69466, 0.0 ], [ 139.74819, 35.69466, 0.0 ], [ 139.74844, 35.69473, 0.0 ], [ 139.74867, 35.69479, 0.0 ], [ 139.7487, 35.6948, 0.0 ], [ 139.74873, 35.69481, 0.0 ], [ 139.74876, 35.69482, 0.0 ], [ 139.74876, 35.69483, 0.0 ], [ 139.74877, 35.69483, 0.0 ], [ 139.74877, 35.69485, 0.0 ], [ 139.7488, 35.69485, 0.0 ], [ 139.74882, 35.69486, 0.0 ], [ 139.74886, 35.69487, 0.0 ], [ 139.74891, 35.69488, 0.0 ], [ 139.7489129, 35.6948777, 0.0 ], [ 139.74909, 35.69478, 0.0 ], [ 139.74921, 35.69471, 0.0 ], [ 139.74928, 35.69454, 0.0 ], [ 139.74935, 35.69437, 0.0 ], [ 139.74939, 35.69427, 0.0 ], [ 139.74941, 35.69419, 0.0 ], [ 139.74943, 35.69414, 0.0 ], [ 139.74943, 35.69413, 0.0 ], [ 139.74942, 35.69412, 0.0 ], [ 139.74941, 35.6941, 0.0 ], [ 139.74939, 35.69408, 0.0 ], [ 139.74936, 35.69406, 0.0 ], [ 139.74934, 35.69405, 0.0 ], [ 139.74921, 35.69399, 0.0 ], [ 139.74912, 35.6939, 0.0 ], [ 139.74907, 35.69386, 0.0 ], [ 139.74906, 35.69384, 0.0 ], [ 139.74905, 35.69382, 0.0 ], [ 139.74904, 35.69378, 0.0 ], [ 139.74903, 35.69373, 0.0 ], [ 139.74903, 35.69369, 0.0 ], [ 139.74903, 35.69364, 0.0 ], [ 139.74905, 35.69352, 0.0 ], [ 139.7491, 35.69337, 0.0 ], [ 139.74911, 35.69334, 0.0 ], [ 139.74912, 35.69333, 0.0 ], [ 139.74918, 35.69321, 0.0 ], [ 139.74929, 35.69309, 0.0 ], [ 139.74934, 35.69303, 0.0 ], [ 139.74945, 35.69291, 0.0 ], [ 139.74955, 35.69283, 0.0 ], [ 139.74962, 35.69277, 0.0 ], [ 139.74966, 35.69274, 0.0 ], [ 139.74979, 35.69264, 0.0 ], [ 139.74986, 35.69262, 0.0 ], [ 139.75004, 35.69255, 0.0 ], [ 139.75009, 35.69254, 0.0 ], [ 139.75016, 35.69252, 0.0 ], [ 139.7502, 35.69251, 0.0 ], [ 139.75023, 35.69251, 0.0 ], [ 139.75028, 35.6925, 0.0 ], [ 139.7503, 35.6925, 0.0 ], [ 139.75072, 35.69245, 0.0 ], [ 139.75075, 35.69245, 0.0 ], [ 139.75083, 35.69243, 0.0 ], [ 139.75096, 35.69242, 0.0 ], [ 139.75102, 35.69241, 0.0 ], [ 139.7511, 35.6924, 0.0 ], [ 139.75116, 35.69238, 0.0 ], [ 139.7512, 35.69236, 0.0 ], [ 139.75124, 35.69235, 0.0 ], [ 139.75129, 35.69232, 0.0 ], [ 139.75136, 35.69229, 0.0 ], [ 139.75142, 35.69225, 0.0 ], [ 139.75146, 35.69222, 0.0 ], [ 139.7515, 35.69219, 0.0 ], [ 139.75156, 35.69214, 0.0 ], [ 139.7516, 35.69209, 0.0 ], [ 139.75165, 35.69202, 0.0 ], [ 139.75181, 35.69183, 0.0 ], [ 139.75188, 35.69177, 0.0 ], [ 139.75199, 35.69163, 0.0 ], [ 139.75203, 35.69158, 0.0 ], [ 139.75211, 35.69149, 0.0 ], [ 139.75214, 35.69146, 0.0 ], [ 139.75218, 35.69142, 0.0 ], [ 139.7522, 35.6914, 0.0 ], [ 139.75223, 35.69136, 0.0 ], [ 139.75231, 35.69126, 0.0 ], [ 139.75236, 35.69121, 0.0 ], [ 139.75247, 35.69107, 0.0 ], [ 139.75273, 35.69075, 0.0 ], [ 139.75273, 35.69068, 0.0 ], [ 139.75279, 35.69067, 0.0 ], [ 139.75289, 35.69055, 0.0 ], [ 139.75294, 35.69049, 0.0 ], [ 139.75299, 35.69039, 0.0 ], [ 139.75301, 35.69036, 0.0 ], [ 139.75304, 35.69033, 0.0 ], [ 139.75314, 35.69025, 0.0 ], [ 139.75324, 35.69013, 0.0 ], [ 139.75328, 35.69007, 0.0 ], [ 139.75348, 35.68982, 0.0 ], [ 139.75349, 35.6898, 0.0 ], [ 139.75358, 35.68969, 0.0 ], [ 139.7535829, 35.6896898, 0.0 ], [ 139.75367, 35.68974, 0.0 ], [ 139.75372, 35.68976, 0.0 ], [ 139.75405, 35.68993, 0.0 ], [ 139.75409, 35.68995, 0.0 ], [ 139.7542, 35.69001, 0.0 ], [ 139.75429, 35.69005, 0.0 ], [ 139.75439, 35.69009, 0.0 ], [ 139.75448, 35.69014, 0.0 ], [ 139.75462, 35.69019, 0.0 ], [ 139.7547, 35.69022, 0.0 ], [ 139.75484, 35.69027, 0.0 ], [ 139.7548424, 35.6902687, 0.0 ]

	// 				]
	// 			}
	// 		}
	// 	});
	// 	map.addLayer({
	// 		'id': 'route',
	// 		'type': 'line',
	// 		'source': 'route',
	// 		'layout': {
	// 			'line-join': 'round',
	// 			'line-cap': 'round'
	// 		},
	// 		'paint': {
	// 			'line-color': '#ff4500',
	// 			'line-width': 16,
	// 			'line-opacity': 0.7
	// 		}
	// 	});
	// });





	// // アイコン画像表示
	// map.on('load', () => {
	// // Load an image from an external URL.
	// 	map.loadImage(
	// 		'https://docs.mapbox.com/mapbox-gl-js/assets/cat.png',
	// 		(error, image) => {
	// 			if (error) throw error;
			
	// 			// Add the image to the map style.
	// 			map.addImage('cat', image);
			
	// 			// Add a data source containing one point feature.
	// 			map.addSource('point', {
	// 				'type': 'geojson',
	// 				'data': {
	// 					'type': 'FeatureCollection',
	// 					'features': [
	// 						{
	// 							'type': 'Feature',
	// 							'geometry': {
	// 								'type': 'Point',
	// 								'coordinates': [139.737018, 35.69555]
	// 							}
	// 						}
	// 					]
	// 				}
	// 			});
		
	// 			// Add a layer to use the image to represent the data.
	// 			map.addLayer({
	// 				'id': 'points',
	// 				'type': 'symbol',
	// 				'source': 'point', // reference the data source
	// 				'layout': {
	// 					'icon-image': 'cat', // reference the image
	// 					'icon-size': 0.25
	// 				}
	// 			});
	// 		}
	// 	);
	// });




	// // マーカー表示＆クリックで飛ぶ
	// map.on('load', () => {
	// 	// Add a GeoJSON source with 3 points.
	// 	map.addSource('points', {
	// 		'type': 'geojson',
	// 		'data': {
	// 			'type': 'FeatureCollection',
	// 			'features': [
	// 				{
	// 					'type': 'Feature',
	// 					'properties': {},
	// 					'geometry': {
	// 						'type': 'Point',
	// 						'coordinates': [139.737018, 35.69555]
	// 					}
	// 				},
	// 				{
	// 					'type': 'Feature',
	// 					'properties': {},
	// 					'geometry': {
	// 						'type': 'Point',
	// 						'coordinates': [139.737705, 35.696267]
	// 					}
	// 				},
	// 				{
	// 					'type': 'Feature',
	// 					'properties': {},
	// 					'geometry': {
	// 						'type': 'Point',
	// 						'coordinates': [139.739961, 35.694756]
	// 					}
	// 				}
	// 			]
	// 		}
	// 	});
	// 	// Add a circle layer
	// 	map.addLayer({
	// 		'id': 'circle',
	// 		'type': 'circle',
	// 		'source': 'points',
	// 		'paint': {
	// 			'circle-color': '#4264fb',
	// 			'circle-radius': 20,
	// 			'circle-stroke-width': 3,
	// 			'circle-stroke-color': '#ffffff'
	// 		}
	// 	});
				
	// 	// Center the map on the coordinates of any clicked circle from the 'circle' layer.
	// 	map.on('click', 'circle', (e) => {
	// 			map.flyTo({
	// 				center: e.features[0].geometry.coordinates,
	// 				zoom: 18,
	// 				pitch: 30,
	// 				bearing: 120
	// 			});
	// 	});
				
	// 		// Change the cursor to a pointer when the it enters a feature in the 'circle' layer.
	// 		map.on('mouseenter', 'circle', () => {
	// 			map.getCanvas().style.cursor = 'pointer';
	// 		});
				
	// 		// Change it back to a pointer when it leaves.
	// 		map.on('mouseleave', 'circle', () => {
	// 			map.getCanvas().style.cursor = '';
	// 		});
	// });



	// マーカー表示＆クリックで飛ぶ 分割
	// 田町
	map.on('load', () => {
		map.addSource('point1', {
			'type': 'geojson',
			'data': {
				'type': 'Feature',
						'properties': {},
						'geometry': {
							'type': 'Point',
							'coordinates': tamachi
						}
			}
		});
		// Add a circle layer
		map.addLayer({
			'id': 'circle1',
			'type': 'circle',
			'source': 'point1',
			'paint': {
				'circle-color': '#4264fb',
				'circle-radius': 20,
				'circle-stroke-width': 3,
				'circle-stroke-color': '#ffffff'
			}
		});
		// Center the map on the coordinates of any clicked circle from the 'circle' layer.
		map.on('click', 'circle1', () => {
				map.flyTo({
					center: tamachi,
					zoom: 18,
					pitch: 40,
					bearing: 120
				});
		});
		// Change the cursor to a pointer when the it enters a feature in the 'circle' layer.
		map.on('mouseenter', 'circle1', () => {
			map.getCanvas().style.cursor = 'pointer';
		});	
		// Change it back to a pointer when it leaves.
		map.on('mouseleave', 'circle1', () => {
			map.getCanvas().style.cursor = '';
		});
	});

	// 階段
	map.on('load', () => {
		map.addSource('point2', {
			'type': 'geojson',
			'data': {
				'type': 'Feature',
						'properties': {},
						'geometry': {
							'type': 'Point',
							'coordinates': kaidan
						}
			}
		});
		// Add a circle layer
		map.addLayer({
			'id': 'circle2',
			'type': 'circle',
			'source': 'point2',
			'paint': {
				'circle-color': '#4264fb',
				'circle-radius': 20,
				'circle-stroke-width': 3,
				'circle-stroke-color': '#ffffff'
			}
		});
		// Center the map on the coordinates of any clicked circle from the 'circle' layer.
		map.on('click', 'circle2', () => {
				map.flyTo({
					center: kaidan,
					zoom: 18,
					pitch: 40,
					bearing: 50
				});
		});
		// Change the cursor to a pointer when the it enters a feature in the 'circle' layer.
		map.on('mouseenter', 'circle2', () => {
			map.getCanvas().style.cursor = 'pointer';
		});	
		// Change it back to a pointer when it leaves.
		map.on('mouseleave', 'circle2', () => {
			map.getCanvas().style.cursor = '';
		});
	});

	// 五差路
	map.on('load', () => {
		map.addSource('point3', {
			'type': 'geojson',
			'data': {
				'type': 'Feature',
						'properties': {},
						'geometry': {
							'type': 'Point',
							'coordinates': gosaro
						}
			}
		});
		// Add a circle layer
		map.addLayer({
			'id': 'circle3',
			'type': 'circle',
			'source': 'point3',
			'paint': {
				'circle-color': '#4264fb',
				'circle-radius': 20,
				'circle-stroke-width': 3,
				'circle-stroke-color': '#ffffff'
			}
		});
		// Center the map on the coordinates of any clicked circle from the 'circle' layer.
		map.on('click', 'circle3', () => {
				map.flyTo({
					center: gosaro,
					zoom: 18,
					pitch: 40,
					bearing: 130
				});
		});
		// Change the cursor to a pointer when the it enters a feature in the 'circle' layer.
		map.on('mouseenter', 'circle3', () => {
			map.getCanvas().style.cursor = 'pointer';
		});	
		// Change it back to a pointer when it leaves.
		map.on('mouseleave', 'circle3', () => {
			map.getCanvas().style.cursor = '';
		});
	});


	// // 実験
	// map.on('load', () => {
	// 	map.addSource('point3', {
	// 		'type': 'geojson',
	// 		'data': {
	// 			'type': 'Feature',
	// 					'properties': {},
	// 					'geometry': {
	// 						'type': 'Point',
	// 						'coordinates': gosaro
	// 					}
	// 		}
	// 	});
	// 	// Add a circle layer
	// 	map.addLayer({
	// 		'id': 'circle3',
	// 		'type': 'circle',
	// 		'source': 'point3',
	// 		'paint': {
	// 			'circle-color': '#4264fb',
	// 			'circle-radius': 20,
	// 			'circle-stroke-width': 3,
	// 			'circle-stroke-color': '#ffffff'
	// 		}
	// 	});
	// 	// Center the map on the coordinates of any clicked circle from the 'circle' layer.
	// 	map.on('click', 'circle3', () => {
	// 			map.flyTo({
	// 				center: gosaro,
	// 				zoom: 18,
	// 				pitch: 40,
	// 				bearing: 130
	// 			});
	// 	});
	// 	// Change the cursor to a pointer when the it enters a feature in the 'circle' layer.
	// 	map.on('mouseenter', 'circle3', () => {
	// 		map.getCanvas().style.cursor = 'pointer';
	// 	});	
	// 	// Change it back to a pointer when it leaves.
	// 	map.on('mouseleave', 'circle3', () => {
	// 		map.getCanvas().style.cursor = '';
	// 	});
	// });

	


	// // マーカー追加
	// const marker1 = new mapboxgl.Marker({ color: 'black' })
	// 	.setLngLat([139.737018, 35.69555])
	// 	.addTo(map);

	// const marker2 = new mapboxgl.Marker()
	// 	.setLngLat([139.737705, 35.696267])
	// 	.addTo(map);

	// const marker3 = new mapboxgl.Marker()
	// 	.setLngLat([139.739961, 35.694756])
	// 	.addTo(map);

	// const marker4 = new mapboxgl.Marker()
	// 	.setLngLat([139.741077, 35.695057])
	// 	.addTo(map);


</script>

</body>
</html>
